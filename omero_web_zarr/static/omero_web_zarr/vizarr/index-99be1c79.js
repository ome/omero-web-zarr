import{version as l,createViewer as m,__vitePreload as p}from"./vizarr-09ae863b.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();var h=w;function w(n,r,i){var o=null,e=null,t=function(){o&&(clearTimeout(o),e=null,o=null)},a=function(){var s=e;t(),s&&s()},c=function(){if(!r)return n.apply(this,arguments);var s=this,f=arguments,u=i&&!o;if(t(),e=function(){n.apply(s,f)},o=setTimeout(function(){if(o=null,!u){var d=e;return e=null,d()}},r),u)return e()};return c.cancel=t,c.flush=a,c}async function v(n){const{imjoyRPC:r}=await p(()=>import("./index-a6b72246.js").then(o=>o.index),["./index-a6b72246.js","./vizarr-09ae863b.js"],import.meta.url);(await r.setupRPC({name:"vizarr",description:"A minimal, purely client-side program for viewing Zarr-based images with Viv & ImJoy.",version:l})).export({add_image:n.addImage,set_view_state:n.setViewState})}function g(n){const r=new URL(window.location.href);if(!r.searchParams.has("source"))return;if(r.searchParams.has("viewState")){const e=JSON.parse(r.searchParams.get("viewState"));n.setViewState(e)}n.on("viewStateChange",h(e=>{const t=new URL(window.location.href);t.searchParams.set("viewState",JSON.stringify(e)),window.history.pushState({},"",decodeURIComponent(t.href))},200));const i={};for(const[e,t]of r.searchParams)i[e]=t;n.addImage(i);const o=decodeURIComponent(r.href);window.location.href!==o&&window.history.pushState(null,"",o)}function y(){console.log(`vizarr v${l}: https://github.com/hms-dbmi/vizarr`);const n=m(document.querySelector("#root"));if(window.self!==window.top){v(n);return}g(n)}y();
//# sourceMappingURL=index-99be1c79.js.map
